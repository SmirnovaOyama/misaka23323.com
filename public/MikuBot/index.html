<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hatsune Miku Bot</title>
    <style>
        :root {
            --miku-bg-start: #f6fffd;
            --miku-bg-mid: #ffffff;
            --miku-bg-end: #f2fbff;
        }

        body { 
            margin: 0; 
            font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            background: linear-gradient(180deg, var(--miku-bg-start) 0%, var(--miku-bg-mid) 35%, var(--miku-bg-end) 100%);
            height: 100vh;
            overflow: hidden;
            padding-top: var(--nav-height);
            box-sizing: border-box;
        }

        .miku-stage {
            height: calc(100vh - var(--nav-height));
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 1.75rem 1.5rem;
            box-sizing: border-box;
        }

        @media (max-width: 768px) {
            body {
                padding-top: var(--nav-height);
            }

            .miku-stage {
                align-items: flex-start;
                padding: 1.25rem 1rem;
            }
        }

        .maintenance-overlay {
            position: fixed;
            inset: 0;
            background: rgba(15, 23, 42, 0.75);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 999;
            color: white;
            text-align: center;
            padding: 1.5rem;
            backdrop-filter: blur(6px);
        }

        .maintenance-overlay__panel {
            background: rgba(15, 23, 42, 0.85);
            border-radius: 20px;
            padding: 2rem 2.5rem;
            max-width: 420px;
            border: 1px solid rgba(255, 255, 255, 0.15);
            box-shadow: 0 20px 45px rgba(0,0,0,0.35);
        }

        .maintenance-overlay__title {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 0.75rem;
        }

        .maintenance-overlay__text {
            font-size: 1rem;
            line-height: 1.5;
            color: rgba(255,255,255,0.85);
        }
    </style>
<link rel="stylesheet" href="/styles.css">
    <script type="importmap">
    {
      "imports": {
        "react": "https://aistudiocdn.com/react@^19.2.0",
        "react/": "https://aistudiocdn.com/react@^19.2.0/",
        "react-dom/": "https://aistudiocdn.com/react-dom@^19.2.0/",
        "@google/genai": "https://aistudiocdn.com/@google/genai@^1.30.0"
      }
    }
    </script>
  <script type="module" crossorigin src="/MikuBot/assets/index-YUcegNtZ.js"></script>
</head>
<body>
<div class="progress-container">
    <div class="progress-bar" id="progressBar"></div>
</div>
<div class="overlay"></div>
<nav class="navbar">
    <a href="/" class="logo">Mahiro Oyama</a>
    <div class="menu-toggle">☰</div>
    <ul class="nav-links">
        <li class="mobile-close-btn">✕</li>
        <li class="nav-item"><a href="/">Home</a></li>
        <li class="nav-item"><a href="/articles">Articles</a></li>
        <li class="nav-item" id="navRefreshItem" style="display:none"><a href="#" id="navRefreshBtn">Refresh Article</a></li>
        <li class="nav-item dropdown">
            <a href="#">Projects ▾</a>
            <ul class="dropdown-menu">
                <li class="dropdown-item"><a href="/2048/">2048 Game</a></li>
                <li class="dropdown-item"><a href="/2dots/">2dots Game</a></li>
                <li class="dropdown-item"><a href="/MikuBot/">MikuBot</a></li>
            </ul>
        </li>
        <li class="nav-item"><a href="#about">About</a></li>
    </ul>
</nav>
<main class="miku-stage">
    <div id="app"></div>
</main>

<div class="maintenance-overlay" aria-live="polite" role="status">
    <div class="maintenance-overlay__panel">
        <div class="maintenance-overlay__title">Unable for service</div>
        <div class="maintenance-overlay__text">We&rsquo;re currently maintaining the MikuBot experience. Please check back a little later while we finish up.</div>
    </div>
</div>

<script>
    // Mobile Menu Toggle
    const menuToggle = document.querySelector('.menu-toggle');
    const navLinks = document.querySelector('.nav-links');
    const overlay = document.querySelector('.overlay');
    const closeBtn = document.querySelector('.mobile-close-btn');
    
    function toggleMenu() {
        navLinks.classList.toggle('active');
        overlay.classList.toggle('active');
        document.body.style.overflow = navLinks.classList.contains('active') ? 'hidden' : '';
    }

    if (menuToggle && navLinks && overlay) {
        menuToggle.addEventListener('click', toggleMenu);
        if (closeBtn) closeBtn.addEventListener('click', toggleMenu);
        overlay.addEventListener('click', toggleMenu);

        // Close menu when clicking a link
        navLinks.querySelectorAll('a').forEach(link => {
            link.addEventListener('click', (e) => {
                // Don't close menu if clicking a dropdown toggle
                if (link.parentElement.classList.contains('dropdown')) {
                    e.preventDefault();
                    return;
                }
                if (navLinks.classList.contains('active')) toggleMenu();
            });
        });
    }

    // Mobile Dropdown Toggle
    const dropdowns = document.querySelectorAll('.dropdown');
    dropdowns.forEach(dropdown => {
        dropdown.addEventListener('click', (e) => {
            if (window.innerWidth <= 768) {
                e.stopPropagation(); // Prevent bubbling to navLinks click
                dropdown.classList.toggle('active');
            }
        });
    });

    // Progress Bar
    window.onscroll = function() {
        const winScroll = document.body.scrollTop || document.documentElement.scrollTop;
        const height = document.documentElement.scrollHeight - document.documentElement.clientHeight;
        const scrolled = (winScroll / height) * 100;
        const progressBar = document.getElementById("progressBar");
        if (progressBar) {
            progressBar.style.width = scrolled + "%";
        }
    };
</script>
</body>
</html>